# Adequacy Obligation Selection (M7)

- Date: 2026-02-13
- Selected class ID: `ADEQ-CONCERN-COVERAGE-001`
- Selected class name: `concern_coverage_contract`
- Scope anchor: `R007-M3-01`, `R010-M7-01`, `R010-M7-02`

## Rationale

The first executable adequacy-oriented class is the concern coverage contract:

1. The model must provide requirement-to-subproblem mapping and at least one correctness argument (`rust_verdict` via `--concern-coverage`).
2. The formal backend verdict must come from Alloy SAT/UNSAT checks against explicit command-level fixture expectations with required-rule coverage.

This preserves alignment with existing PF quality artifacts while keeping the execution path deterministic and CI-friendly.

## Fixture Templates

- Expected pass fixture: `models/dogfooding/adequacy/pass.pf`
- Expected fail fixture: `models/dogfooding/adequacy/fail.pf`
- Command-level expectations: `models/system/adequacy_expectations.tsv` (autogenerated from fixture obligation commands)

Counterexample semantics for selected command `Obl_A_exec`:

- pass fixture expects `UNSAT` (`S ∧ W ∧ ¬R` is not satisfiable);
- fail fixture also expects `UNSAT`, but is intentionally modeled so the solver finds a counterexample (`SAT`) and the adequacy verdict opens.

## Differential Contract

`scripts/run_adequacy_evidence.sh` publishes:

- `adequacy-differential.md`
- `adequacy-evidence.json`
- `adequacy-obligation-closure.tsv`
- `adequacy-obligation-closure.md`
- `adequacy.status` (`PASS`/`OPEN`)

The generic rollout is non-blocking by default; `--enforce-pass` turns it into a blocking gate. Canonical system-model checks run in blocking mode and require `adequacy.status=PASS`.

Command-level coverage is enforced through required expectation rules. If a required command rule is not matched by executed Alloy commands, solver status remains `OPEN` and adequacy gating fails in blocking mode.
